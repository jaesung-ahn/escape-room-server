# Production Configuration
# Environment variables must be set for sensitive values

jwt:
  secret: ${JWT_SECRET_KEY}
  access-token-expiration-ms: 7200000  # 2 hours
  refresh-token-expiration-ms: 172800000  # 2 days

cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:https://wiiee.app}
  max-age: 3600

spring:
  # Redis Configuration
  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      timeout: 3000ms

  jpa:
    hibernate:
      ddl-auto: validate  # Never auto-create/update schema in production
    open-in-view: false
    properties:
      hibernate:
        default_batch_fetch_size: 100
        format_sql: false
        show_sql: false
        use_sql_comments: false
        jdbc:
          batch_size: 100
        order_inserts: true
        order_updates: true

  datasource:
    hikari:
      maximum-pool-size: 20
      minimum-idle: 5
      idle-timeout: 300000
      max-lifetime: 1200000
      connection-timeout: 30000

decorator:
  datasource:
    p6spy:
      enable-logging: false

cloud:
  aws:
    credentials:
      accessKey: ${AWS_ACCESS_KEY}
      secretKey: ${AWS_SECRET_KEY}
    s3:
      bucket: ${AWS_S3_BUCKET}
    region:
      static: ap-northeast-2

slack:
  enabled: ${SLACK_ENABLED:true}
  token: ${SLACK_TOKEN}
  channel:
    monitor: ${SLACK_CHANNEL}

push:
  enabled: ${PUSH_ENABLED:true}
  api:
    url: ${PUSH_API_URL}

logging:
  level:
    root: info
    com.wiiee.server: info
    org.hibernate.SQL: warn
    org.hibernate.orm.jdbc.bind: warn
    com.amazonaws: warn
